<!doctype html><html lang=en><head><title>Throttle Circuit Board</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><script src=https://kit.fontawesome.com/85cdec684b.js crossorigin=anonymous></script><style>@import "https://fonts.googleapis.com/css2?family=Inconsolata&display=swap";:root{--cursor-visibility:hidden}html,body{width:100%;height:100%;overflow:auto;font-family:inconsolata,monospace;font-size:4vmin;line-height:4.1vmin;font-weight:400}body{margin:0;display:flex;flex-direction:row;justify-content:center;align-items:center}#content{min-width:82vmin;min-height:82vmin}::-webkit-scrollbar{width:10px}::-webkit-scrollbar-track{border-radius:10px;box-shadow:inset 0 0 1px white}::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:0 0 0 1px white}.cursor,#activity-title:after,#activity-content:after,#cd:after,#whoami:after,#cat:after,#tree:after{visibility:var(--cursor-visibility);content:"|";overflow:hidden;color:#fff;animation:blink 500ms linear infinite alternate}@keyframes blink{0%{opacity:0}100%{opacity:1}}@media only screen and (min-width:768px){body{font-size:2.5vmin;line-height:2.6vmin}#content{min-width:60vmin}}:root{--cursor-visibility:hidden}body{align-items:unset;overflow-y:scroll}#content{max-width:80vmin}pre{overflow-x:scroll;white-space:pre}@keyframes blink{0%{opacity:0}100%{opacity:1}}body{background:#2b2d42}body #terminal{color:#edf2f4}body #user{color:#ef233c}body #dir{color:#3772ff}body .Typewriter__cursor{color:#edf2f4}body #title{color:#7785ac}a{color:#edf2f4}a:hover{color:#ef233c}.navFull{background-color:#353535;font-family:courier new;font-size:17px;display:inline;position:fixed;bottom:0;left:0;width:100%;padding-top:5px;padding:10px;padding-bottom:0}.navCredits{float:right;padding-right:18px;padding-bottom:10px;padding-top:5px}#content::after{content:"\a\a";white-space:pre}</style><link rel=stylesheet href=/css/project.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest></head><body><div id=content><span id=activity-title></span><br><span id=activity-content></span><br><script type=text/javascript>async function typewriter(e,t,n){var s=0,o=!1;addText="";const i=document.getElementById(t),a=()=>new Promise(e=>setTimeout(e,n)),r=()=>new Promise(e=>e()),c=()=>i.innerHTML=e.slice(0,s+1)+addText,l=document.createElement("span");for(l.id="blink",i.style.setProperty("--cursor-visibility","visible");s<e.length;){if(e.charAt(s+1)==="<"&&(o=!0),e.charAt(s+1)===">"&&(o=!1),o){s++;continue}requestAnimationFrame(c),n===0?await r():await a(),s++}i.style.setProperty("--cursor-visibility","collapse")}function parseDelay(e){const t=parseInt(e,10);return isNaN(t)?0:t}const titleDelay=parseDelay("0"),contentDelay=parseDelay("0"),typeeffetct=async()=>{await typewriter("<span id='terminal'><h1 id='title'>Throttle Circuit Board</h1></span>","activity-title",titleDelay),await typewriter(`<span id='terminal'><p>One of my first-year projects on <a href="https://www.olinelectricmotorsports.com">Olin&rsquo;s Formula SAE Team</a> was designing the throttle circuit board for our secondary research Go-kart. The throttle circuitry is responsible for reading the amount the throttle pedal is pushed, and the onboard microcontroller does some safety checks and translates that into a torque request from the motor controller to make the car go!</p>
<h2 id="where-to-start">Where to start?</h2>
<p>This was my first electrical engineering project, and while I had a bit of background by this point on what the board needed to do, it was tough to translate that conceptual understanding into a set of components that could accomplish that task.</p>
<p>I started with the schematic design, which is sort of like a blueprint that shows what all of the components on the board are without having to worry about how they&rsquo;ll be laid out on an actual board. I broke up my schematic into a few different functional blocks:</p>
<ul>
<li>The Atmega 16m1, the microcontroller we use on our team, and its accompanying crystal and circuitry</li>
<li>The CAN transceiver used to send and receive CAN messages</li>
<li>The linear regulator used to convert our 12V battery power to the 5V our components used</li>
<li>The analog sensing circuits, which are non-inverting opamps that feed into the analog-to-digital converter pins onboard the 16m1</li>
<li>A few other miscallenous bits and bobs, including the header used to flash the board with firmware, the connectors that would be present, and some LEDs to use for debugging firmware</li>
</ul>























<figure>
    <a href="images/schematic.png">
    <img
      loading="lazy"
      
        sizes='(min-width: 35em) 700px, 100vw'
      
      srcset='
        
          /projects/throttle_pcb/images/schematic_hub098ec51207e02833bc065c54f50b19f_769434_500x0_resize_box_3.png 500w
        
        
          , /projects/throttle_pcb/images/schematic_hub098ec51207e02833bc065c54f50b19f_769434_800x0_resize_box_3.png 800w
        
        
          , /projects/throttle_pcb/images/schematic_hub098ec51207e02833bc065c54f50b19f_769434_1200x0_resize_box_3.png 1200w
        
        
          , /projects/throttle_pcb/images/schematic_hub098ec51207e02833bc065c54f50b19f_769434_1500x0_resize_box_3.png 1500w 
        '
      
        src="/projects/throttle_pcb/images/schematic.png"
      
      alt="The final schematic for my throttle design"title=""
    />
    </a><figcaption><p>The final schematic for my throttle design</p>
        </figcaption>
</figure>


<h2 id="the-layout">The Layout</h2>
<p>The next step was designing the board&rsquo;s layout. This was by far the trickiest step, as now I had to take that list of components and lay them out on a circuit board. The reason I found it difficult is because I had to keep in mind a varying list of constraints that were sometimes didn&rsquo;t have a straightforward solution.</p>
<p>For example, I wanted to make the physical footprint of the board no larger than it needed to be, and also have all of the traces (connections on the circuit board) be as short as possible. But certain signals are also susceptible to noise, so I had to make changes to move those farther away from components that had a tendency to produce noise. Minimizing the number of vias (a small hole that&rsquo;s used to make a connection to another layer of the board, which is useful when two traces need to intersect to get to their destinations) was also important.</p>
<p>Ultimately, it took a few revisions, but I ended up with a layout I was happy with and was ready to ship for production.</p>























<figure>
    <a href="images/layout.png">
    <img
      loading="lazy"
      
        sizes='(min-width: 35em) 700px, 100vw'
      
      srcset='
        
          /projects/throttle_pcb/images/layout_huc2550b46c81b0592cb6b6234bcd00bee_57183_500x0_resize_box_3.png 500w
        
        
        
        '
      
        src="/projects/throttle_pcb/images/layout.png"
      
      alt="The final layout for the PCB"title=""
    />
    </a><figcaption><p>The final layout for the PCB</p>
        </figcaption>
</figure>

























<figure>
    <a href="images/3d.png">
    <img
      loading="lazy"
      
        sizes='(min-width: 35em) 700px, 100vw'
      
      srcset='
        
          /projects/throttle_pcb/images/3d_hue2401ec92dff1c14fcbeaf8a12b35505_302787_500x0_resize_box_3.png 500w
        
        
          , /projects/throttle_pcb/images/3d_hue2401ec92dff1c14fcbeaf8a12b35505_302787_800x0_resize_box_3.png 800w
        
        
        '
      
        src="/projects/throttle_pcb/images/3d.png"
      
      alt="3D model of the final board"title=""
    />
    </a><figcaption><p>3D model of the final board</p>
        </figcaption>
</figure>


<h2 id="final-results">Final Results</h2>
<p>While the gokart vehicle itself was never finished as we ended up in a time crunch to finish our main vehicle by competition time, I did end up shipping this board and populating it for installation! Even though I wasn&rsquo;t able to see it working, it was still a great introduction into hardware design, which is something that I&rsquo;ll be overseeing in my current postion on the team as LV systems lead.</p>
</span>`,"activity-content",contentDelay)};typeeffetct()</script></div><span class=navFull><span><a href=/>/home/amit</a>
<span>&#8192;|&#8192;</span>
<a href=/about>~/about</a>
<span>&#8192;|&#8192;</span>
<a href=/projects>~/projects</a>
<span>&#8192;|&#8192;</span>
<a href=/resume.pdf>~/resume</a></span>
<span class=navCredits>Powered by Hugo.
<a href=https://github.com/Yukuro/hugo-theme-shell style=color:#000 target=_blank rel=noopener>Theme</a></span></span></body></html>